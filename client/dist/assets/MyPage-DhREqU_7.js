import{r as a,j as t,N as g,n as f,M as d,T as D,d as y,u as h,g as M,A as x}from"./index-BBXadzZ0.js";import{H as k}from"./Header-Ciq_Nrm5.js";import{S as I,P as L,a as P}from"./RankingTemplate-tw12TGph.js";import"./Title.styled-d_6YcK5y.js";import{S as C,a as U}from"./StampList-BLDNf4cR.js";import{S as F}from"./SectionContainer-CGhBODQp.js";import{S as O}from"./Card.styled-BRygyNW9.js";import"./Box-D0Xa-Rvs.js";import"./Box.styled-DN2A2xhE.js";import"./Rank.styled-BKFXWbYV.js";import"./ButtomPositionModal-Byo7j5tV.js";import"./WindowInfinityScrollContainer-81HpgYqX.js";import"./tab-CpR-np10.js";import"./icon_arrow_next-8svfqn2K.js";import"./icon_arrow_right_small-ZUMzZ4ew.js";const v=()=>{const[s,n]=a.useState([]),[o,l]=a.useState(""),[i,p]=a.useState({isOpen:!1,data:{}});a.useEffect(()=>{r()},[]);const r=async()=>{const e=await C.userStamp(),c=e.filter(S=>S.stampFl);n(c),l(`${c.length}/${e.length}`)},m=e=>{p({isOpen:!0,data:e})},u=()=>{p(e=>({...e,isOpen:!1}))};return t.jsxs(t.Fragment,{children:[t.jsxs(F,{children:[t.jsx(g,{to:f[d].path,style:{display:"block",textAlign:"center"}}),t.jsx(O,{to:f[d].path,children:t.jsxs(D,{size:20,weight:400,children:["활동 스탬프 ",o]})}),t.jsx(U,{stampData:s,top:40,onClick:m})]}),t.jsx(I,{isOpen:i.isOpen,stampData:i.data,isClose:u})]})};function w({userData:s={},userInfo:n={},limitPointDay:o}){return t.jsxs(t.Fragment,{children:[t.jsx(k,{backButton:!0,title:"마이페이지"}),t.jsxs(y,{children:[t.jsx(L,{userInfo:n}),t.jsx(P,{userNm:s.userNm,level:s.level,point:s.point,pointDay:s.pointDay,limitPointDay:o}),t.jsx(v,{})]})]})}function K(){const[s,n]=h(x.userInfo),[o,l]=h(x.userDatas),[i,p]=a.useState({}),[r,m]=a.useState({});a.useEffect(()=>{u()},[]);const u=a.useCallback(async()=>{if(!(o||s))try{const e=await l(),c=await n(),S=e.result,j=c.result;m(S),p(j)}catch(e){console.error(e)}},[r]);return t.jsxs(t.Fragment,{children:[t.jsx(w,{userData:r.data,userInfo:i.data,limitPointDay:r.limitPointDay}),o&&t.jsx(M,{})]})}export{K as default};
