import{r as d,j as e,o as g,p as j,N as k,n as u,y as p,d as C,D as T,c as S,B as y,v as b,P as A,u as L,g as E}from"./index-BBXadzZ0.js";import{A as I}from"./agreementService-C0IGIvus.js";import{H as v}from"./Header-Ciq_Nrm5.js";import{S as F}from"./SignStepTitle-D6_xw6gX.js";import"./Title.styled-d_6YcK5y.js";import{S as N,a as O,b as B,c as q,d as P,e as R}from"./Terms.styled-DLbUkG53.js";import{i as w}from"./icon_arrow_right_small-ZUMzZ4ew.js";function f({value:n="",name:a="",size:r=16,checked:c=!1,disabled:i=!1,readonly:o=!1,onChange:h,children:m,...s}){const t=d.useId(),l=x=>{h&&h({checked:x.target.checked,value:n})};return e.jsxs(N,{children:[e.jsx(O,{id:t,type:"checkbox",name:a,checked:c,readOnly:o,disabled:i,onChange:l,value:n}),e.jsx(B,{htmlFor:t,readOnly:o,disabled:i,...s,children:e.jsxs(q,{size:r,children:[e.jsx("img",{src:c?g:j,style:{paddingRight:"1rem",marginTop:"-3px"},alt:""}),m]})})]})}function D({checked:n,value:a,link:r,onChange:c,children:i}){return e.jsxs(P,{children:[e.jsx(f,{checked:n,value:a,onChange:c,children:i}),e.jsx(k,{to:r,style:{padding:"1rem"},children:e.jsx("img",{src:w})})]})}function H({agreementList:n,setDisabled:a}){const[r,c]=d.useState([]),[i,o]=d.useState(r.filter(s=>s.requiredFl!=="0").every(s=>s.checked));d.useEffect(()=>{c(n)},[n]);const h=s=>{const t=r.map((l,x)=>x===s?{...l,checked:!l.checked}:l);c(t)};d.useEffect(()=>{const s=r.filter(t=>t.requiredFl!=="0").every(t=>t.checked);o(s),a(!s)},[r,a]);const m=()=>{const s=r.map(t=>({...t,checked:t.requiredFl==="0"?t.checked:!i}));c(s),o(!i)};return e.jsxs("div",{style:{marginTop:"4rem"},children:[e.jsx(f,{checked:i,onChange:m,children:"약관 전체동의"}),e.jsx(R,{children:r.map((s,t)=>e.jsxs(D,{checked:s.checked,link:u.AGREEMENT_DETAIL(s.agreementCd).path,onChange:()=>h(t),children:[s.agreementNm,e.jsx("span",{style:{fontSize:"1.4rem",color:"#c8c8c8",paddingLeft:"0.5rem"},children:s.requiredFl==="0"?"(선택)":"(필수)"})]},t))})]})}function M({agreementList:n=[]}){const{goToPage:a}=p(),[r,c]=d.useState(!0);return e.jsxs(e.Fragment,{children:[e.jsx(v,{backButton:!0,title:"회원가입",subMenu:!1}),e.jsx(C,{mode:"center",children:e.jsxs(T,{maxWidth:500,children:[e.jsxs("div",{children:[e.jsxs(F,{step:1,children:["반가워요 ",e.jsx("br",{}),"지금부터 ",e.jsx(S,{children:"미디어리터러시"}),"를 ",e.jsx("br",{}),"시작해볼까요?"]}),e.jsx(H,{agreementList:n,setDisabled:c})]}),e.jsx(y,{children:e.jsx(b,{disabled:r,onClick:()=>a(u[A].path),children:"다음"})})]})})]})}function K(){const[n,a]=L(I.agreement),[r,c]=d.useState([]);d.useEffect(()=>{i()},[]);const i=async()=>{if(!n)try{const o=await a();c(o)}catch(o){console.error(o)}};return e.jsxs(e.Fragment,{children:[e.jsx(M,{agreementList:r}),n&&e.jsx(E,{})]})}export{K as default};
