import{j as o,a0 as R,a1 as y,u as C,r as i,g as T,e as D}from"./index-BBXadzZ0.js";import{a as E}from"./tab-CpR-np10.js";import{W as b,R as j}from"./rankService-B9-Y0ZJ9.js";import{H as A}from"./Header-Ciq_Nrm5.js";import{R as P}from"./RankingTemplate-tw12TGph.js";import"./Title.styled-d_6YcK5y.js";import"./Box-D0Xa-Rvs.js";import"./Box.styled-DN2A2xhE.js";import"./Rank.styled-BKFXWbYV.js";import"./Card.styled-BRygyNW9.js";import"./icon_arrow_right_small-ZUMzZ4ew.js";import"./SectionContainer-CGhBODQp.js";import"./ButtomPositionModal-Byo7j5tV.js";import"./WindowInfinityScrollContainer-81HpgYqX.js";import"./icon_arrow_next-8svfqn2K.js";function S({tabs:c=[],data:g,onClick:a}){return o.jsx("div",{style:{borderBottom:"1px solid #EAEAEA",backgroundColor:"#f6f6f6"},children:o.jsx(R,{children:c.map(e=>o.jsx(y,{tabKey:e.key,onClick:()=>a({searchLankTy:e.key}),active:e.key===g.searchLankTy,children:e.label},e.key))})})}const I=D.primary[700];function z(){const[c,g]=C(j.weekRank),[a,e]=i.useState({...b,pageUnit:10}),[p,l]=i.useState({}),[k,d]=i.useState([]);i.useEffect(()=>{m()},[a]);const m=i.useCallback(async()=>{if(!c)try{const t=(await g({...a})).result,{data:r,pagination:s}=t;d(r),l(s)}catch(n){console.error(n)}},[a]),u=({searchLankTy:n="school"})=>{e(t=>({...t,pageIndex:1,searchLankTy:n}))},h=(n="this")=>{e(t=>({...t,pageIndex:1,searchWeek:n}))},x=()=>{const{pageIndex:n}=a,{firstPageNo:t}=p,r=n-1;r<t||e(s=>({...s,pageIndex:r}))},f=()=>{const{pageIndex:n}=a,{lastPageNo:t}=p,r=n+1;r>t||e(s=>({...s,pageIndex:r}))};return o.jsxs(o.Fragment,{children:[o.jsx(A,{backButton:!0,title:"랭킹",subMenu:!1,border:0,bgColor:I}),o.jsx(S,{tabs:E,data:a,onClick:u}),o.jsx(P,{rankingData:k,rankType:a.searchLankTy,handleChangeRankHistory:h,pageIndex:a.pageIndex,pagination:p,handlePrevPage:x,handleNextPage:f}),c&&o.jsx(T,{})]})}export{z as default};
